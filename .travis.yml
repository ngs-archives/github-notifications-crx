language: node_js
node_js:
- 0.10.26
env:
  global:
  - CRX_PRIVATE_KEY=$TRAVIS_BUILD_DIR/github-notifications-chrome.pem
  - secure: qW2In8avjUKH4hYQO8rpDADHKCdvG8uTLXLbC607e75CJfphWLMxzd24bIPSH9CdkkXVH/ZHOqYFe4V2P7audjiXBiMZnttg9uS0vbkd9N3o1Vjs1keHzM0FXfdejTF7jF4QH9wJAMSOpu9RmjC0jw6XPO7N0lnmakaEO+GBq2s=
  - secure: hvKxlMJuokRk0jTlRBY57i5zK/c6kRjP737qAmKiQMOFh+urEWs/wduLCiDfDlVu3M888UM4s7dhBD4kHTn04GthuUR7toIFQU70dDICdcLiLy2+mJLs5Yg//ql3MrjfKb/ywGM9WlS1wSxgL8PssmkgSVSrksUKulsP16nALFY=
  - secure: jl6PZewwgl9szSpVVn20KiYi/Y+A5Uc64MjfB6ecP1W9RDbJAIrwX32dSOYJEA3EtiOF56esRztlJ9GNCdvzXIvW78yz/nVrQYjOFYiDhWUiQcjCqL4LUoL4p+th3SAs/RSIIS3rYlqltWcfibfqjZ5UQe72qZDG7JrSYcuhWhs=
  - secure: j4YAqqbmLx6CkcpP7+XT+MPrj5u/jbCt5gwu3bvoVcOKfuER7bNvgsq7brqH6v7Amu2ieK+7MNqjEjRl+gibECqj6mAwjPJd7GccDrfItDgB/7paGiAym9sZaZJ5jgjmVMm1hMDVNInrADlXTld1wrKmOAq+fCRwtVLncdZDCGY=
  - secure: rQGHt4HwAI/fkTjpC8hItmSwiI1D2WBLMdnsHISktuRM8Q7BWK4EwG7NdY6opLRaelwu4Fz22IT2pSBwAlusbbvvcQrMRAl7kwqyH8NO+dbRgl/Xa1pykwCvw0JL878FFHNuJxiTvvjoILbc5xxIKHMqvUCCQVmTFinzUDXf0t8=
  - secure: BHTln82718TcYROZVg8/IjH49aYEprrhb+TFH2uUFrrREOPI0NEBZYYEeuaRg2scJCSmNxcYSxMfd0E7beRuy7YNGoz0Fg6HdX0G+YmHjMk92a4L5qUFhcKDEaeL+v3RR2gEEzyj2JRE30k7qibg7RBNYYoiqbhD9X4BcCk1/Zs=
  - secure: tGNIwNo0X/6oquJezKZT+NdJ9g9tdhsoctyV/OuQFyip5bmF8exZraO2kG2KU+/eDf+gHyYhQRh4WG/xI5esXcWtfac3aBYzBsgWDUpWjNnM/1Rh6xKFGf05ReKtxSpJX5hLRvVkHCUJTfksX8x32ghFYV25ZZG/GNiM/iHwoRQ=
  - secure: jWjSJOwSSIPMs04yusE/WizbUzfZyRtMMpMg5sNM66rMLBS5KBRUpyl0lQriyprwqEcLGsEvakkKQnI+Z5i4U9TdMEpcRskW4agRI/jvg+eCF5TIAOP76/o4xZKvKKtaFwYZQnGPUu8H6PV0QfucSxlSnUu9w5D3DUeu8f1P7/8=
  - secure: M2xSdKrZFfez+wptl1k8OdoNk8k1ZTYXkjy/qJABMJVMjjZ+43hZd5GHKoJJ1eAuKFb8ThbgoEpRfN8Mh5cc+X2Mqo6rjoiBRmDm5nAbB9OtrRkBQCToe6zqgUdERsaY0zp2i/3QQp5cmXi3v5AaPROIdXqB4hDkruuWeFA5bio=
  - secure: T/MzN+Bg5gvqMlyJ1sQTSlUIm11mVKBRNIVHFNTHneF0VKZZjUHKoHPJBl0z2YggT3L7oIAIOhnhVy3VR/XVmfm9Mv/CwXGxRFTIlc/yAngK+KmemlNRSU0u3OXYRkaadTd9dTm/Hj4N/iM+f6t22fYp7/n4o7YhrTewoRrofpY=
  - secure: RgODSBJQzIsDkRSFfrgNFZ70cfUdB7i/jWYInAU/jP06X9RqRRyfLpErDa+bMpZzw9obPcGwFCzkadMBwg0pwWOkbVLMHeH9yXCYPPqsgwo5PhuSYs3+9QTFDVSkKF+g3iu7VvRoNzRYpABZZXJcrEOSZrG9F55n5MC0ThyXTKM=
  - secure: k1qibn9G/0clfPZILrpHIPLDqRTJS7wgbx5npOEIAnR+rmklt0Qe8+JfGg2O9EwbFFt+oWPEve+WDamV/zFHMxmGFFcxzjaAxaKeGzC1+HHsmvvESU+pXwbaG/aM85VEulwVr5pquPBMSNMfPEd4CzYaUcD6sPKT3BAjVaMQgac=
  - secure: ilpFAFiBu/nBbAe9LxftApXa5UmJuyJCrDdYhPvz/Rk/hIEJSlRqgoAjYrnQsqUwC7JMX+0TWjWwqAfZlSbUXQByfI4raKOyY96lWE4hXbd12D0tch/HDKNeD4Xjxx3Ru4tpif+Las5bQRGT0Y3hxGmn3KzTfyQzhE+gk7pQI84=
  - secure: WAc4PsgB+44UrJXUMLeSQ8onBytWAaw/iRSSbGBPs3PdiG2asTk11WQBfqZgZ2CzzDisE/DG97MfsDR9h5cptS0/4bvUVJvcw8NmL7A515d2p6TKj5ev13mQDGWbQ3Ct9kqLL09qhA9Ezm6gxzFarR2+hvsNZMa7AW4k9mkqXiw=
  - secure: MfnZZvYHc6/Vvs+s9ZQs+esu4pRvIr2luN3Un7YwG67o7aFXAQa7AcvBgFgICCf/gronoGBtYXw/dm1v+GV5Ya2uaW/T22weQBbVF6+TOplOKzOrXQUApyvkrVr/KyrHzbeOeSHjDaD21BuXAm9bpw25VAJYpIC+rXF4QKAJTkU=
  - secure: cqVahUfbwtryLoEqliv7bxh0O8deS9gz833gLMm8edeKp1NYD/hH9RrkzAnq8RifzRfq8dGhWFrgSDeh/3iVsPtCASJddTD5o7wu2kXoenlCgyp4IUcvQb74tWwD3HoHCrhISNkO/3aXcl0yHpxoakNwnOM5FDu11bFTqkwPD/U=
  - secure: ZMwjH/ZkOkUUnkbquuGNtAjlxdpCOgfJHyJ0RDnU3Dr9pZ+lO8n/VZx8tADJ62afD/Ugp67dOgZh/qcaOwzR4S6X38fNuMtrIdurRTtA3oDCkYkfON8U4mgOhsHV9RhOs7kd9AscEYxH7eHoisaJDrDRxCIx/KwprCGBIXlHbsU=
  - secure: Qu8PhHjB8swFD/72fbO2XS9Zn3NYPhK1C5JBAJsl/TzAkBwWiQ5LUlszesW8X2zg1spSDpjRmWN/tKkSQh7a+EzE9edYeznvdNpueb+yOs5/NW3OzuiAy91Ch+0G9LCgC0xWo93BPnpU+YyxPsdy0Kg7D2Mq5n0Wq6AOivEvgwE=
  - secure: nXBt33vgmgK6bf9W7xsCfbcWJp2vkbofE3XA/foPIab6XR1pG2PjufJOG3R3k/3nK90THcuPAkO4s4DIo1X/L0dgMN3M0OwNZs13CGn25IM1b/HVuWUwsnVMezMOgcHPq2iuTlwLr6ChP8SeTXuVmL2KQd56Yf1pAx1wtsTiQtk=
  - secure: CNUKDUhxs34prZmoUluk6mw8Hw7NO5/DJSqoSSt1Amy7krIOl1Ut51JocmKAFVRgUCFiwYyq4sj7tup8efvn2Gx7JVXA7ORJLmhk9GkXnW8t9H5DRb6wV2Ss4MicF1ClpBHvP2NwswsHVNsxuvF0jN63Ke4D3ezgCGgVWOcKmrY=
  - secure: qS8pPjfkY2A+qDtgyDsIeaAzn8bqFBDliJxcm9Dh4IYGWwjMPKhMuiTles8CMJAeJjRbwRL9+DvudBKdkBBQWjJRSjFTbve+FsD4E202514k8bz0Yrc4hDry0mQHRKETt9vhT797TLGHsk0jBBxqdvTP+xs9sJawzueOjmmEyw8=
  - secure: mwg1HACZO7uraK5UmG/egaUM1anY/k6MG74s1BZEEA0UDLSdvh9KLlc+0YNLOlpbuMRzxkkeSsq2xF8Bmc/TYROn6X66nvlSj0d32WEd9Z2PYQ7iYf5FFcS8zZWrB/hMRb1lAAtBECmjyCQjzO/7hgwA8q23O4H3HKkZEhO6ypQ=
  - secure: RD8P+fxlRkh+m16etUqEMXwvQs2EIpVITHI+qTkNqaMGQXfL89std1vubTP/VgAo+R63ywa6FUkhjCVx4TmA08+U+VBnh7bMRcaAWsidZauqGpp2sxqSIGZzXt47bcinnflHh2sAPlTcBVJQ6drVudFi4tdC9wsGgj60Q4tNCNA=
  - secure: iDYG+bWwElCUdtWYVgdyJhOgY5vuleIwXRvZdK+KkiIkOdm390KoenHhOmtczYCt2P88jDfZUSGFPFCQIGbnyiOt/mfH50roI4AohHfFmDJIlPEbToaRMbWvHB8LZrJemnwQ0QLgIOQAH9rXKMt7az/Bcfonr6Js87djF/JXpkU=
  - secure: N1pMLED83s0eFv3n1aUqUcaUKOJnN4qgGxmv02eT2z/fxi1/COhSaP3eBaKZ2ocnLkbCUuFMn897GFKn2GKx61hdSfHiXWRNaGSL2lqS6LGeglphGCAsPax8bscFxEBNFBEcvKSYwF7NKLfkd3qbNRS9nILfHvUKznnc8UyNSuE=
  - secure: DJkjBGtohYmwR+5uUKdP4llunbIg3vO3OKqH22kMa/76haxIMjsCGyIRnVnKttUVLfI2sWnqnitvEm2au0Ev1PffyAPkd+rk/KMiFXqE0e8uB4aGvjofzxVuI8p3tEAHFIl0Tx81D7eVTEPSLVt/l5D8x9DN5l/PuJFyphg7Fmc=
  - secure: h2Mc8MjL7DSoIEwCckrN3xlkvv2WPX89gq+2JFcSRZC9ehMG9Rqijhx9YfLK+FNgyl+1ZFYNb1Hujwm6uPde3Pe9TC6TnpTgz6rU/lflQP0WBJRT5xdCmBW0xkd7wR7mPziAoBaekMsxZzsDVBCypK2QtM+ntJNPNW+UrUEjS+Q=
  - secure: U+hX8seWRbZTM0f5+FfLcEVjKLSY/5oXe02K7NDuzFr4AdI9wecA47FttJmhZntPJCF+8HPmbROxgrRSkrxnKUOnawqODMaEqbg1xFHLHqRSxw7wGveoxJNwHLolH8/N7DUOa9xncAkmxHuu0EZ3NYeGRN7AQzDCT39JyY/Z914=
  - secure: c2F/stMLAAdF+KbKTtyXicouKQqmRpB3SWc5wfiDrjtmMVei+2zIL9escisQDh2zVPJc4uOO1ZFuBIeBtkYH90rh8aIpM7w8J63KaR8EDTorvvbGnq7VpX043I3aqEr6XtyBBWFBRXW8YkHlf1OhuZm6q0EDDonjysbxDVYu8tE=
  - secure: qCPaZfvsB05SS8pw/MW3nLV8A3FUfDel4QLuPP6k7LDSUAs53xZwy6kl+A8Hbxz6g4wecEe/CG69fYgmkJbZldiPHIhnv0bcZyKnEFqlmxYXkBz4Vu3GN/uJGg2ZZEwSi/PEz7vFknzL/NYUm7vwnMJMVQ0/i5rSybfKWZuzdZA=
  - secure: q+RwRc6gvEbZRB//GKVOeIfz5eG2vUGQru8lIMExZNnEnC9s2jTZoPFsDTXVDn8ggLqSSrogmt4/90KzdxBWlDIk1E0+Vbrjou+x24M7OcXJePBCXxLQ+fNl6Ky1DJ4nWImHeqcXMWVdx2XnoGqYK45jVKnJXUHtGGIS/0Kdk4E=
  - secure: cQ7qC2zf5PHVTop8i3AiSR5ZvrKTB7M/7s+CjpQHbjXJAIUTbG2buy3+pkSt6abKwyF+CpF9+QDoGqGR4ChrAb6b8UtwgYp85JE8T44flJe9HJo3N5eEatGXvzrovk5ZxRPCnBAp2FVgcjtSHBRtRYL8B514u8i9wg8B0U4JgJQ=
  - secure: pBlYXUXK8zhHOKC3+DLBxrDLjnnxeubiP/eZ2dB9FvjxzBp6AeO2wnIBUmS0wzZd1byv2nfXk6M7cXwpCzyiK4OyWnn3DsQR/FM7EJOkTbmJzNgBtGAd6wCQ3C0EXufYeorwlMLG/jvmXxBi1tw8DToq3Bro8ZIiR1kxxoJ/a+0=
  - secure: hZBTHgJ+vjnsri9i6ySHyD7V2G9f0tWS9RrKgOODHaVdhJigsATw645nZVIgJ4nlYvewywzo8VoM23iI+Gja3VrYs08yJUIlvJotsnYPp3/VSwOJim8Y3nJtPjKAcpPA+gQDW4b6u/r68eEoan5a2z3tOG+rfBKzBogm/Yc1FhY=
  - secure: NEBWSGz2MIEdMLP9OTL3wcgvaELGDX/jQmDXR9ejeK8Q/R4lr9tP7kpMFlEc0Fn5nc0ZLJoQdW9M9cGX165bv+Bx8l7fLZCnFTfUNg7XCY/Ysli5vsS2q9UBU7hev0aWWMCkMNseVHihcNeiqNX1muis7MVVnx20tKFmePpqGrs=
  - secure: HxXDaB8KAkDlGA2+Xz4LBwC9DB176Cc3frYS8RCXDGI++5ZV+mGul2AwuaGR/R0Aa8tiMHXKBWXwovKz+cP3qLqIT9466pWbB0T5ySj/hEmsf+RFC4+gOEMZ6q1pf471pA507DZh9sXr5GMfTV9HQ+er5GLKkkmdOUZ4+hpVU50=
  - secure: ZGRlG5rd5TOW282DpqFzOZYegQRNff2Z+/FdpZ+6tPPKewIukzW3uq6W+LftmAUfa9lZTeNWdwotIr4HQEPWxNbCdVQ9e1sM6AmICzQOLQbycqvAuHcxipoX1f1pHzrJr6tCw3oZdtrDTBZXy8XvLZNPpJtmQEdJ7pSdUkKZNIM=
  - secure: ejtVY3QpOLzJzb7AENyZd8GTYax3yUm53RuDaxeDoVYdCorG09reHK2rIU3GEatjxJ6hvK6CASW1rnmmhJtK6AIsCfYSqOwdt6F44yJ6sQchiG4ChNToauPEXAjQARI3BAbD85lN04Xe7p2DC/tMTB4dbrylNjxQ2eh3qQvkxi4=
  - secure: DoBPKgdAaOolvSg3sINtlGVPsQ3Wx/3a+oZU8LGmcb1yKJqUD58ucFZKljHC39lROXNBV0UtHko6OXWpdclPqLRtVaVodXVejxyvnDH/jsirFdtk+lr5lVuW8sbv3dF2B7da0FHxbsd42vdgXlMRAvNVPdeELKuKIinjkLXivvc=
  - secure: rp6hkRFVwFwQ24hfN1AasK/FcSQt1pAY0CNbN4oGeeWucaZX4fcz4p57kjJYv0ys3hwN8sNtoX3gaQtYoeAZzG7VSWc+Tm9Mo4vq0XMkcUlDyWgMaGQwbUgGxpLjdT4rDV3vAouqdPcD0iG0mMgpg4+9q68oZr0mgvkNUYMqXW0=
before_install:
  - "echo 'gem: --no-ri --no-rdoc' > ~/.gemrc"
  - for i in {0..36}; do eval $(printf "echo -n \$CRX_PRIVATE_KEY_%02d\n" $i); done | base64 --decode > $CRX_PRIVATE_KEY
script:
  - 'npm run-script dist'
  - 'npm test'
after_success:
  - 'npm run-script s3'
